"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.createTables = void 0;
var _require = require("../database"),
  initDatabase = _require.initDatabase;
var createTables = exports.createTables = function createTables() {
  var db = initDatabase();
  console.log("ðŸ”„ Creating Tables...");
  db.exec("\n        CREATE TABLE IF NOT EXISTS \"bank\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"name\" TEXT UNIQUE NOT NULL, \n            \"telephone\" TEXT, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT));\n        \n        CREATE TABLE IF NOT EXISTS \"bank_account\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"account_number\" TEXT NOT NULL UNIQUE, \n            \"account_holder_name\" TEXT NOT NULL, \n            \"currency_type\" INTEGER, \n            \"bank\" INTEGER, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT),\n            FOREIGN KEY(\"bank\") REFERENCES \"bank\"(\"id\") ON DELETE CASCADE, \n            FOREIGN KEY(\"currency_type\") REFERENCES \"currency_type\"(\"id\")) ON DELETE SET NULL;\n        \n        CREATE TABLE IF NOT EXISTS \"cardex\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"description\" TEXT NOT NULL,\n            \"amount\" INTEGER,\n            \"balance\" NUMERIC,\n            \"addressee\" TEXT,\n            \"date\" DATETIME,\n            \"document\" INTEGER,\n            \"createdBy\" INTEGER,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY(\"id\" AUTOINCREMENT),\n            FOREIGN KEY(\"document\") REFERENCES \"document\"(\"id\")\n            FOREIGN KEY(\"createdAt\") REFERENCES \"user\"(\"id\"));\n        \n        CREATE TABLE IF NOT EXISTS \"client\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"name\" TEXT NOT NULL, \n            \"address\" TEXT, \n            \"identification\" TEXT NOT NULL UNIQUE, \n            \"cellphone\" TEXT,\n            \"contact\" TEXT,  \n            \"credit_apply\" INTEGER DEFAULT 1, \n            \"max_credit\" NUMERIC, \n            \"credit_currency\" INTEGER, \n            \"createdBy\" INTEGER, \n            \"department\" INTEGER, \n            \"seller\" INTEGER, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\") ON DELETE SET NULL, \n            FOREIGN KEY(\"credit_currency\") REFERENCES \"currency_type\"(\"id\"), \n            FOREIGN KEY(\"department\") REFERENCES \"department\"(\"id\"), \n            FOREIGN KEY(\"seller\") REFERENCES \"seller\"(\"id\")) ON DELETE SET NULL;\n        \n        CREATE TABLE IF NOT EXISTS \"currency_type\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" INTEGER NOT NULL UNIQUE, \n            \"symbol\" INTEGER NOT NULL, \n            \"exchange_rate\" INTEGER NOT NULL, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"department\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL UNIQUE,\n            \"abbreviation\" TEXT NOT NULL UNIQUE, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"document\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" INTEGER NOT NULL UNIQUE, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"invoice\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"number\" TEXT NOT NULL UNIQUE, \n            \"date\" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP, \n            \"total\" NUMERIC, \n            \"discount\" NUMERIC, \n            \"iva\" NUMERIC, \n            \"discount_applied\" NUMERIC, \n            \"note\" TEXT, \n            \"net\" NUMERIC, \n            \"quote\" TEXT, \n            \"payment_method\" INTEGER, \n            \"currency_type\" INTEGER, \n            \"invoice_status\" INTEGER, \n            \"client\" INTEGER,\n            \"seller\" INTEGER, \n            \"bank_account\" INTEGER, \n            \"invoice_type\" INTEGER, \n            \"createdBy\" INTEGER, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"bank_account\") REFERENCES \"bank_account\"(\"id\"),\n            FOREIGN KEY(\"client\") REFERENCES \"client\"(\"id\"),\n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\") ON DELETE SET NULL, \n            FOREIGN KEY(\"currency_type\") REFERENCES \"currency_type\"(\"id\"),\n            FOREIGN KEY(\"invoice_type\") REFERENCES \"invoice_type\"(\"id\"),\n            FOREIGN KEY(\"payment_method\") REFERENCES \"payment_method\"(\"id\"), \n            FOREIGN KEY(\"seller\") REFERENCES \"seller\"(\"id\"), \n            FOREIGN KEY(\"invoice_status\") REFERENCES \"invoice_status\"(\"id\") );\n        \n        CREATE TABLE IF NOT EXISTS \"invoice_detail\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"unit_price\" NUMERIC, \n            \"amount\" NUMERIC, \n            \"discount\" NUMERIC, \n            \"discount_percent\" NUMERIC, \n            \"subtotal\" NUMERIC,\n            \"measurement_unit\" INTEGER,\n            \"product\" INTEGER,\n            \"invoice\" INTEGER,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"invoice\") REFERENCES \"invoice\"(\"id\"), \n            FOREIGN KEY(\"measurement_unit\") REFERENCES \"measurement_unit\"(\"id\"),\n            FOREIGN KEY(\"product\") REFERENCES \"product\"(\"id\") );\n        \n        CREATE TABLE IF NOT EXISTS \"invoice_type\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"measurement_unit\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL UNIQUE,\n            \"abbreviation\" NOT NULL UNIQUE, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"payment_method\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL UNIQUE,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"product\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL, \n            \"price\" NUMERIC, \n            \"description\" TEXT,\n            \"iva\" NUMERIC,\n            \"net\" NUMERIC,\n            \"quantity\" NUMERIC,\n            \"last_cost\" NUMERIC,\n            \"min_amount\" INTEGER,\n            \"weighted_price\" NUMERIC,\n            \"is_countable\" INTEGER DEFAULT 1, \n            \"is_combo\" INTEGER DEFAULT 0, \n            \"currency_type\" INTEGER, \n            \"measurement_unit\" INTEGER,\n            \"entry\" INTEGER,\n            \"warehouse\" INTEGER,\n            \"category\" INTEGER, \n            \"warehouse\" INTEGER,\n            \"product_status\" INTEGER,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"category\") REFERENCES \"product_category\"(\"id\"), \n            FOREIGN KEY(\"currency_type\") REFERENCES \"currency_type\"(\"id\"),\n            FOREIGN KEY(\"entry\") REFERENCES \"product_entry\"(\"id\"),\n            FOREIGN KEY(\"warehouse\") REFERENCES \"currency_type\"(\"id\")\n            FOREIGN KEY(\"measurement_unit\") REFERENCES \"measurement_unit\"(\"id\"),\n            FOREIGN KEY(\"warehouse\") REFERENCES \"warehouse\"(\"id\") );\n        \n        CREATE TABLE IF NOT EXISTS \"product_category\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL,\n            \"abbreviation\" TEXT,\n            \"createdBy\" INTEGER, \n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            \"updatedAt\" DATETIME DEFAULT CURRENT_TIMESTAMP, \n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\") );\n            \n        CREATE TABLE IF NOT EXISTS \"product_status\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL,\n            PRIMARY KEY(\"id\" AUTOINCREMENT));\n        \n        CREATE TABLE IF NOT EXISTS \"product_entry\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"order_number\" TEXT NOT NULL,\n            \"date\" DATETIME,\n            \"concept\" TEXT NOT NULL,\n            \"amount\" NUMERIC,\n            \"state\" INTEGER,\n            \"is_entry\": INTEGER NOT NULL DEFAULT 1,\n            \"product\" INTEGER,\n            \"supplier\" INTEGER,\n            \"createdBy\" INTEGER,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY(\"id\" AUTOINCREMENT),\n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\"), \n            FOREIGN KEY(\"product\") REFERENCES \"product\"(\"id\"),\n            FOREIGN KEY(\"state\") REFERENCES \"status\"(\"id\"), \n            FOREIGN KEY(\"supplier\") REFERENCES \"supplier\"(\"id\") );\n        \n        CREATE TABLE IF NOT EXISTS \"role\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"name\" TEXT NOT NULL, \n            PRIMARY KEY(\"id\" AUTOINCREMENT) );\n        \n        CREATE TABLE IF NOT EXISTS \"seller\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"name\" INTEGER NOT NULL,\n            \"createdBy\" INTEGER,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY(\"id\" AUTOINCREMENT),\n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\") );\n        \n        CREATE TABLE IF NOT EXISTS \"invoice_status\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"name\" INTEGER NOT NULL, \n            PRIMARY KEY(\"id\" AUTOINCREMENT));\n        \n        CREATE TABLE IF NOT EXISTS \"supplier\" (\n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"identification\" TEXT UNIQUE,\n            \"name\" TEXT, \n            \"representative_name\" TEXT,\n            \"cellphone\" TEXT,\n            \"createdBy\" INTEGER,\n            PRIMARY KEY(\"id\" AUTOINCREMENT),\n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\")\n        );\n        \n        CREATE TABLE IF NOT EXISTS \"system_setting\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"currency_type\" INTEGER, \n            \"warehouse\" INTEGER,\n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"currency_type\") REFERENCES \"currency_type\"(\"id\"),\n            FOREIGN KEY(\"warehouse\") REFERENCES \"currency_type\"(\"id\"));\n        \n        CREATE TABLE IF NOT EXISTS \"user\" ( \n            \"id\" INTEGER NOT NULL UNIQUE, \n            \"name\" TEXT NOT NULL,\n            \"username\" TEXT NOT NULL, \n            \"password\" TEXT NOT NULL, \n            \"role\" INTEGER NOT NULL, \n            \"createdBy\" INTEGER,\n            \"createdAt\" DATETIME DEFAULT CURRENT_TIMESTAMP,\n            PRIMARY KEY(\"id\" AUTOINCREMENT),\n            FOREIGN KEY(\"createdBy\") REFERENCES \"user\"(\"id\"), \n            FOREIGN KEY(\"role\") REFERENCES \"role\"(\"id\") );\n        \n        CREATE TABLE IF NOT EXISTS \"warehouse\" ( \n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL, \n            \"address\" TEXT,\n            \"department\" INTEGER,\n            \"enterprise\" INTEGER,\n            PRIMARY KEY(\"id\" AUTOINCREMENT), \n            FOREIGN KEY(\"department\") REFERENCES \"department\"(\"id\"),\n            FOREIGN KEY(\"enterprise\") REFERENCES \"enterprise\"(\"id\"));\n            \n        CREATE TABLE IF NOT EXISTS \"enterprise\" (\n            \"id\" INTEGER NOT NULL UNIQUE,\n            \"name\" TEXT NOT NULL,\n            \"address\" TEXT,\n            \"cellphone\" TEXT,\n            \"logo\" TEXT,\n            PRIMARY KEY(\"id\" AUTOINCREMENT));");
  console.log("âœ… Tables were created!.");
};